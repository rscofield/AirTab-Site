{!--

 --}


{exp:airtab:log_page_load}
<div ng-cloak>
<style type="text/css">
	.button.button-block, .button.button-full {
		margin-top:0;
	}
</style>


{!-- Original --}
{if segment_3 == ""}

<ion-view title="My Drinks & Gifts" ng-init="$root.hideLoading();">
	<ion-nav-buttons side="{{$root.menuSide}}">
      <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
     
	<ion-content has-header="true" padding="true" ng-controller="mydrinksController">
  	<ion-refresher
		    pulling-text="Pull to refresh..."
		    on-refresh="doRefresh()">
		</ion-refresher>    
    <div class="list" ng-init="getDrinksWithMsg()" > 		    
      <div ng-repeat="drinkMsg in drinksWithMsg">
		    <div class="list"> 
          <a class="item item-thumbnail-left" ng-click="showActionSheet( '{{drinkMsg.entry_id}}' )">			
            <img src="{{drinkMsg.drink_picture}}" width="80" height="80">
            <h2 ng-if="drinkMsg.type == 'Standard' || drinkMsg.type == 'Premium'">{{drinkMsg.type}} Drink</h2>
            <h2 ng-if="drinkMsg.type != 'Standard' && drinkMsg.type != 'Premium'">{{drinkMsg.type}}</h2>
            <span style="font-size:0.75em">
              <p>{{drinkMsg.usr}} @ {{drinkMsg.date}}</p>
              <p>{{drinkMsg.msg}}</p>
            </span>
          </a>
        </div> 
			</div>			
	  </div>
	
    </ion-content>		 

		<ion-footer-bar align-title="center" class="bar-assertive" ng-controller="mydrinksController">
			  <div class="buttons" ng-click="gotoPromo( 'promo' );">
				  <button class="button">Promo Code</button>				  
			  </div>
	 			 <h1 class="title"></h1>
			  			  
			  <div class="buttons" ng-click="gotoPromo( 'how_to_redeem' );">
				  <button class="button" >How To Redeem</button>				  
			  </div>
			  		  
		</ion-footer-bar>
				
    
</ion-view>


{if:elseif segment_3 == "modal"}
<div class="modal" id="modalWindow" ng-controller="myDrinks">
  <ion-header-bar class="bar bar-header bar-stable">
    <button class="button button-clear button-primary" ng-click="$root.hideModal()" id="hideModal"><i class="icon ion-arrow-left-c"></i></button>
    <h1 class="title">Redeem Which Gift?</h1>
  </ion-header-bar>
  <ion-content ng-init="$root.hideLoading()">
    <div class="list" ng-controller="myDrinks" ng-init="getDrinks(true);" compile="drinks">
		</div>
  </ion-content>
</div>

{if:elseif segment_3 == "options"}
<ion-view title="My Drinks/Gifts">
	<ion-nav-buttons side="{{$root.menuSide}}">
      <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>
    <ion-content ng-init="$root.hideLoading() id="drinkInfo" ng-controller="myDrinks">
			<div>

			</div>
			<button class="button  button-block icon ion-wineglass button-assertive" ng-click="redeemDrink({segment_4})"> Redeem Drink</button>
			<button class="button  button-block  button-assertive" ng-click="regiftDrink({segment_4})"> reGift Drink</button>

    </ion-content>
</ion-view>

{if:elseif segment_3 == "promo"}
<div ng-cloak>
<ion-view title="Promo Code" ng-init="$root.hideLoading();">
	<ion-nav-buttons side="{{$root.menuSide}}">
      <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>
	<ion-content has-header="true" padding="true" ng-controller="mydrinksController">
		<form name="inviteFormUsername" ng-submit="sendPromo( 'promo' );">
			<div class="list">
				<div class="item-divider">Promo Code:</div>
				<label class="item item-input">
					<input 
					type="text"
					placeholder="Promo Code"
					data-ng-model="promo.code" >
				</label>
				
				<!--
				<label class="item item-input">
					<textarea
					rows="6"
					placeholder="Your Message"
					data-ng-model="invite.message"
                    data-ng-minlength="3">
					</textarea>
				</label>
				-->
			</div>

		    <button class="button button-block button-assertive" ng-click="sendPromo( 'promo' );">
			Submit
			</button>	
						
		</form>
		
    </ion-content>
</ion-view>
</div>

{/if}

{!-- Original --}

</div>